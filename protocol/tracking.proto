syntax = "proto3";

package biotracker;

message Feature {
  repeated SkeletonNode nodes = 2;
  float score = 3;
}

message Features {
  uint64 timestamp = 1;
  repeated Feature features = 2;
  SkeletonDescriptor skeleton = 3;
}

message Entities {
  uint64 timestamp = 1;
  map<string, Feature> entities = 2;
  SkeletonDescriptor skeleton = 3;
}

message SkeletonNode {
  float x = 1;
  float y = 2;
  float score = 3;
}

message SkeletonEdge {
  uint32 source = 1;
  uint32 target = 2;
}

message SkeletonDescriptor {
  repeated SkeletonEdge edges = 1;
  repeated string node_names = 2;
  optional string center_node = 3;
}
